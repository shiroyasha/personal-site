<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>From JavaScript to Ruby, Part 1 &ndash; Igor Šarčević</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/stylesheets/layout.css" media="screen" rel="stylesheet" type="text/css" />
    
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Gentium+Basic&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">

  </head>
  <body>
    <div class="layout">
      
<nav>
  <a href="/"><i class="fa fa-home fa-2x"></i></a>
</nav>

<article class='postPage'>
  <header>
    <h1 class="title">From JavaScript to Ruby, Part 1</h1>
    <!--<p>written by <a href="https://twitter.com/igor_sarcevic">@igor_sarcevic</a> ⌚ April 14, 2014</p>-->
  </header>

  <p>For more than 2 years now I have written almost all my applications in JavaScript or a similar JavaScript based language like CoffeeScript or LiveScript.
In the meantime I got quiet fond of the functional aspect of the language, the prototypes, and the unique way JavaScript handles objects and inheritance.
</p>

<p>But as I transferred to a different company where the primary language is Ruby, I have started to adopt this strange little beast of a language. This is a tale of my quest to learn Ruby filled with moments of joy and frustration, and some interesting insights about the difference in the culture between the two.</p>

<h1>Blocks are not anonymous functions</h1>

<p>The first thing I noticed is that people don&rsquo;t really like functions all that much as they like them in JavaScript.</p>

<p>Conversely they do like these things called blocks, an anonymous function like thing with a little more power then you would expect. And when I say a little more power I mean they can manipulate the scope they are inside of, for example:</p>
<pre class="highlight javascript"><span class="kd">function</span> <span class="nx">javascriptAnonymousFunctions</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span> <span class="c1">// this return does nothing
</span>  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"I will be written out in the console"</span><span class="p">);</span>
<span class="p">}</span>
</pre>
<pre class="highlight ruby"><span class="k">def</span> <span class="nf">ruby_blocks</span>
  <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">el</span><span class="o">|</span>
    <span class="nb">puts</span> <span class="n">el</span>
    <span class="k">return</span> <span class="c1"># this returns from the ruby_blocks method</span>
  <span class="k">end</span>
  <span class="nb">puts</span> <span class="s2">"I will NOT be written out in the console"</span>
<span class="k">end</span>
</pre>

<p><strong>Note:</strong> To get the same behavior as in JavaScript you can of course prepend your block with <em>lamba</em>.</p>

<h1>Functions are better when they are shared</h1>

<p>Of course in the above example the ruby version is more powerful and it gives you no example why I miss my functions in ruby. But, the beauty of functions could be only seen when they are reused and combined with other functions. For example:</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">show</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">even</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">number</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">}</span>

<span class="kd">var</span> <span class="nx">greaterThen</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">limit</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">number</span> <span class="o">&lt;=</span> <span class="nx">limit</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">lessThen</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">limit</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">number</span> <span class="o">&lt;=</span> <span class="nx">limit</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span> <span class="nx">show</span> <span class="p">)</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">even</span> <span class="p">).</span><span class="nx">map</span><span class="p">(</span> <span class="nx">show</span> <span class="p">)</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">greaterThen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">).</span><span class="nx">map</span><span class="p">(</span> <span class="nx">show</span> <span class="p">)</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">greaterThen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
               <span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">even</span> <span class="p">)</span>
               <span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">lessThen</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
               <span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">show</span> <span class="p">)</span>

</pre>

<p>The same thing in ruby can&rsquo;t be written so easily, or at least not without confusing your colleges a little bit, or I have not learned enough Ruby yet to show you a quick and easy solution.</p>

<p>With this in mind, I still think that Ruby as a language rocks. There are dozens of shortcuts for every little thing you desire, and the syntax is clean and easy to understand. In the next part of my story I will try to focus on some of the awesome stuff I have found in this language.</p>

</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'shiroyashablog'; // required: replace example with your forum shortname
var disqus_identifier = '76563670-c5b9-11e3-9c1a-0800200c9a66'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    </div>

    <div class="follow">
      <a href="https://twitter.com/igor_sarcevic" class="twitter-follow-button" data-show-count="false">Follow @igor_sarcevic</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </div>

    <footer>
      Created with <strong>❤</strong> by Igor Šarčević 
    </footer>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50657716-1', 'shiroyasha.github.io');
  ga('send', 'pageview');

</script>


  </body>
</html>
